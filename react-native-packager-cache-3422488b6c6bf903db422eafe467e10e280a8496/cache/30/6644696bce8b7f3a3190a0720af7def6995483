Object.defineProperty(exports, "__esModule", {
    value: true
});

var _checkIfObjectIsNotEmpty = require("../../../main/functions/checkIfObjectIsNotEmpty");

var _checkIfObjectIsNotEmpty2 = babelHelpers.interopRequireDefault(_checkIfObjectIsNotEmpty);

exports.default = function (entity, isEditMode) {
    var validationErrors = {};
    var fieldErrors = {};

    if (entity.nameChange.length < 1 || entity.nameChange.length > 50) fieldErrors.nameChange = "Game name must have between 1 to 50 chars";

    if (entity.gameRules !== undefined) validateGameRules(entity.gameRules, fieldErrors);else if (!isEditMode) fieldErrors.gameRules = "Please choose pdf file with game rules";

    if (!(0, _checkIfObjectIsNotEmpty2.default)(fieldErrors)) {
        validationErrors.message = "Invalid game data";
        validationErrors.fieldErrors = fieldErrors;
    }

    return validationErrors;
};

function validateGameRules(uri, fieldErrors) {
    var fileType = uri.substr(uri.lastIndexOf(".") + 1);;

    if (fileType !== 'pdf') {
        fieldErrors.gameRules = "Extension: " + fileType + " is not acceptable extension of user avatar. You should try with pdf";
    }
}